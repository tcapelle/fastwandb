# AUTOGENERATED! DO NOT EDIT! File to edit: nbs/01_datasets.ipynb (unless otherwise specified).

__all__ = ['upload_folder']

# Cell
from .imports import *
from .image import *

# Cell
def upload_folder(path: File, name='dataset', metadata={}, description='dataset'):
    "Upload all files in path"
    path = Path(path)
    artifact_dataset = wandb.Artifact(name=name,
                                      type='dataset',
                                      metadata=metadata,
                                      description=description)

    #upload folders and files insidet `path`
    for f in path.iterdir():
        if f.is_dir():
            artifact_dataset.add_dir(f, name=f.name)
        else:
            artifact_dataset.add_file(f)
    return wandb.run.use_artifact(artifact_dataset)